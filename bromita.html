<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto-Llenado Grupo Famia</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2d7e3e 0%, #1a5028 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 700px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #2d7e3e;
            margin-bottom: 10px;
            text-align: center;
            font-size: 28px;
        }
        
        .subtitle {
            color: #666;
            text-align: center;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        .alert {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
            color: #155724;
            font-size: 14px;
        }
        
        .alert strong {
            display: block;
            margin-bottom: 5px;
        }
        
        .instructions {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
            font-size: 14px;
            color: #0d47a1;
        }
        
        .instructions ol {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }
        
        input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: #2d7e3e;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }
        
        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-copy {
            background: linear-gradient(135deg, #2d7e3e 0%, #1a5028 100%);
            color: white;
        }
        
        .btn-copy:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(45, 126, 62, 0.4);
        }
        
        .code-box {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .code-box pre {
            margin: 0;
            white-space: pre-wrap;
        }
        
        .success-msg {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            color: #155724;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ Auto-Llenado Grupo Famia</h1>
        <p class="subtitle">C√≥digo optimizado para el formulario detectado</p>
        
        <div class="alert">
            <strong>‚úÖ Formulario detectado correctamente!</strong>
            Campos encontrados: nombres, apellidos, email, tel√©fono, comentarios
        </div>
        
        <div class="instructions">
            <strong>üìã Instrucciones:</strong>
            <ol>
                <li>Mant√©n abierta la p√°gina <strong>https://grupofamia.com/</strong></li>
                <li>Presiona <strong>F12</strong> ‚Üí pesta√±a <strong>"Console"</strong></li>
                <li>Escribe <code>allow pasting</code> y presiona Enter</li>
                <li>Haz clic en "Copiar C√≥digo Optimizado"</li>
                <li>Pega en la consola y presiona <strong>Enter</strong></li>
            </ol>
        </div>
        
        <div class="input-group">
            <label for="cantidad">Cantidad de env√≠os:</label>
            <input type="number" id="cantidad" value="100" min="1" max="1000">
        </div>
        
        <div class="input-group">
            <label for="delay">Retardo entre env√≠os (ms):</label>
            <input type="number" id="delay" value="500" min="0" max="10000" step="50">
            <small style="color: #666; display: block; margin-top: 5px;">
                üí° 0ms = M√°xima velocidad | 100-300ms = R√°pido y seguro | 500ms+ = Cauteloso
            </small>
        </div>
        
        <button class="btn-copy" onclick="copiarCodigo()">üìã Copiar C√≥digo Optimizado</button>
        
        <div class="success-msg" id="successMsg">
            ‚úì ¬°C√≥digo copiado! P√©galo en la consola ahora.
        </div>
        
        <div class="code-box">
            <pre id="codigo"></pre>
        </div>
    </div>

    <script>
        function generarCodigo() {
            const cantidad = document.getElementById('cantidad').value;
            const delay = document.getElementById('delay').value;
            
            return `// ============================================
// AUTO-LLENADO FORMULARIO GRUPO FAMIA
// Versi√≥n Optimizada - 100% Compatible
// ============================================

(async function() {
    console.clear();
    console.log('%cüöÄ INICIANDO ENV√çO AUTOM√ÅTICO', 'color: #2d7e3e; font-size: 18px; font-weight: bold; padding: 10px;');
    console.log('%c‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ', 'color: #2d7e3e;');
    
    const nombres = ['Juan', 'Mar√≠a', 'Carlos', 'Ana', 'Luis', 'Carmen', 'Pedro', 'Laura', 'Miguel', 'Sof√≠a', 'Diego', 'Valentina', 'Javier', 'Isabella', 'Fernando', 'Camila', 'Roberto', 'Martina', 'Antonio', 'Luc√≠a', 'Andr√©s', 'Gabriela', 'Ricardo', 'Paula', 'Manuel', 'Elena', 'Ra√∫l', 'Patricia'];
    
    const apellidos = ['Garc√≠a', 'Rodr√≠guez', 'Mart√≠nez', 'L√≥pez', 'Gonz√°lez', 'P√©rez', 'S√°nchez', 'Ram√≠rez', 'Torres', 'Flores', 'Rivera', 'G√≥mez', 'D√≠az', 'Cruz', 'Morales', 'Reyes', 'Jim√©nez', 'Hern√°ndez', 'Ruiz', 'Mendoza', 'Vargas', 'Castro', 'Ortiz', 'Silva', 'Rojas', 'Vega'];
    
    const dominios = ['gmail.com', 'hotmail.com', 'outlook.com', 'yahoo.com', 'email.com', 'live.com'];
    
    let enviados = 0;
    let exitosos = 0;
    let errores = 0;
    const totalEnvios = ${cantidad};
    const delayMs = ${delay};
    
    console.log(\`üìä Configuraci√≥n:\`);
    console.log(\`   Total de env√≠os: \${totalEnvios}\`);
    console.log(\`   Retardo: \${delayMs}ms\`);
    console.log(\`   Tiempo estimado: \${Math.round(totalEnvios * (delayMs + 300) / 1000)} segundos\\n\`);
    
    function generarDatos() {
        const nombre = nombres[Math.floor(Math.random() * nombres.length)];
        const apellido = apellidos[Math.floor(Math.random() * apellidos.length)];
        const dominio = dominios[Math.floor(Math.random() * dominios.length)];
        const num = Math.floor(Math.random() * 10000);
        
        return {
            nombres: nombre,
            apellidos: apellido,
            email: \`\${nombre.toLowerCase()}.\${apellido.toLowerCase()}\${num}@\${dominio}\`,
            telefono: '9' + Math.floor(Math.random() * 100000000).toString().padStart(8, '0'),
            comentarios: \`Mensaje autom√°tico #\${enviados + 1}. Me gustar√≠a recibir m√°s informaci√≥n sobre sus productos y servicios. Gracias.\`
        };
    }
    
    function llenarCampo(name, valor) {
        const campo = document.querySelector(\`input[name="\${name}"], textarea[name="\${name}"]\`);
        if (campo) {
            // M√©todo 1: Asignaci√≥n directa
            campo.value = valor;
            
            // M√©todo 2: Simular escritura para frameworks modernos
            const nativeInputValueSetter = Object.getOwnPropertyDescriptor(
                window.HTMLInputElement.prototype, 
                'value'
            ).set;
            nativeInputValueSetter.call(campo, valor);
            
            // M√©todo 3: Disparar todos los eventos necesarios
            campo.dispatchEvent(new Event('input', { bubbles: true }));
            campo.dispatchEvent(new Event('change', { bubbles: true }));
            campo.dispatchEvent(new Event('blur', { bubbles: true }));
            
            return true;
        }
        return false;
    }
    
    function llenarFormulario(datos) {
        let llenados = 0;
        
        if (llenarCampo('nombres', datos.nombres)) llenados++;
        if (llenarCampo('apellidos', datos.apellidos)) llenados++;
        if (llenarCampo('email', datos.email)) llenados++;
        if (llenarCampo('telefono', datos.telefono)) llenados++;
        if (llenarCampo('comentarios', datos.comentarios)) llenados++;
        
        return llenados;
    }
    
    function clickEnviar() {
        const botones = document.querySelectorAll('button');
        for (let boton of botones) {
            const texto = boton.textContent.trim().toLowerCase();
            if (texto.includes('enviar informaci√≥n') || texto.includes('enviar')) {
                boton.click();
                return true;
            }
        }
        return false;
    }
    
    async function procesarEnvio(numero) {
        try {
            const datos = generarDatos();
            
            console.log(\`\\n%c‚îÅ‚îÅ‚îÅ Env√≠o #\${numero}/\${totalEnvios} ‚îÅ‚îÅ‚îÅ\`, 'color: #2196F3; font-weight: bold;');
            console.log(\`üë§ Nombre: \${datos.nombres} \${datos.apellidos}\`);
            console.log(\`üìß Email: \${datos.email}\`);
            console.log(\`üì± Tel: \${datos.telefono}\`);
            
            // Llenar formulario
            const camposLlenados = llenarFormulario(datos);
            console.log(\`‚úèÔ∏è  Campos llenados: \${camposLlenados}/5\`);
            
            if (camposLlenados < 5) {
                console.log(\`%c‚ö†Ô∏è  ADVERTENCIA: Solo se llenaron \${camposLlenados} campos\`, 'color: #FF9800;');
            }
            
            // Esperar para que se procesen los eventos
            await new Promise(r => setTimeout(r, 300));
            
            // Click en enviar
            const enviado = clickEnviar();
            
            if (enviado) {
                exitosos++;
                console.log(\`%c‚úì ENVIADO EXITOSAMENTE\`, 'color: #4CAF50; font-weight: bold;');
            } else {
                errores++;
                console.log(\`%c‚úó ERROR: No se pudo hacer clic en enviar\`, 'color: #F44336; font-weight: bold;');
            }
            
            // Mostrar progreso
            const progreso = Math.round((numero / totalEnvios) * 100);
            if (numero % 10 === 0 || numero === totalEnvios) {
                console.log(\`\\n%cüìà PROGRESO: \${progreso}% (\${numero}/\${totalEnvios})\`, 'color: #9C27B0; font-weight: bold; font-size: 14px;');
                console.log(\`‚úì Exitosos: \${exitosos} | ‚úó Errores: \${errores}\`);
            }
            
        } catch (error) {
            errores++;
            console.log(\`%c‚úó ERROR: \${error.message}\`, 'color: #F44336; font-weight: bold;');
        }
    }
    
    // EJECUTAR ENV√çOS
    console.log(\`\\n%c‚è≥ Iniciando env√≠os...\`, 'color: #FF9800; font-size: 14px;');
    
    for (let i = 1; i <= totalEnvios; i++) {
        enviados = i;
        await procesarEnvio(i);
        
        // Esperar antes del siguiente env√≠o (excepto en el √∫ltimo)
        if (i < totalEnvios) {
            await new Promise(resolve => setTimeout(resolve, delayMs));
        }
    }
    
    // RESUMEN FINAL
    console.log(\`\\n\`);
    console.log(\`%c‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\`, 'color: #2d7e3e;');
    console.log(\`%cüéâ PROCESO COMPLETADO\`, 'color: #2d7e3e; font-size: 20px; font-weight: bold;');
    console.log(\`%c‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\`, 'color: #2d7e3e;');
    console.log(\`\\nüìä ESTAD√çSTICAS FINALES:\`);
    console.log(\`   Total procesados: \${enviados}\`);
    console.log(\`   %c‚úì Exitosos: \${exitosos}\`, 'color: #4CAF50; font-weight: bold;');
    console.log(\`   %c‚úó Errores: \${errores}\`, 'color: #F44336; font-weight: bold;');
    console.log(\`   Tasa de √©xito: \${Math.round((exitosos/enviados)*100)}%\`);
    console.log(\`\\n‚è±Ô∏è  Tiempo total: \${Math.round((enviados * (delayMs + 300)) / 1000)} segundos (\${Math.round((enviados * (delayMs + 300)) / 1000 / 60)} min)\`);
    console.log(\`\\n%c‚úÖ Todos los formularios fueron procesados.\`, 'color: #2d7e3e; font-size: 14px;');
    
})();`;
        }
        
        function actualizarCodigo() {
            const codigo = generarCodigo();
            document.getElementById('codigo').textContent = codigo;
        }
        
        function copiarCodigo() {
            const codigo = generarCodigo();
            navigator.clipboard.writeText(codigo).then(() => {
                const msg = document.getElementById('successMsg');
                msg.style.display = 'block';
                setTimeout(() => {
                    msg.style.display = 'none';
                }, 5000);
            });
        }
        
        document.getElementById('cantidad').addEventListener('input', actualizarCodigo);
        document.getElementById('delay').addEventListener('input', actualizarCodigo);
        
        actualizarCodigo();
    </script>
</body>
</html>